{% include 'core/base.html' %}
{% block content %}
<div class="flex flex-col justify-start items-center bg-[#0a131a] p-3 text-slate-100 w-screen h-screen md:pb-10">
    <div class="flex flex-row justify-start items-start w-4/6 bg-[#1d2e3e] h-4/5">
        <div class="flex flex-col justify-start items-center space-x-4 mt-5 text-black font-normal w-full">
            <h2 class="text-[#447438] mb-1 md:mb-5 mx-auto font-semibold">Tasks done</h2>
            <div class="border-t-2 border-[#205e38] w-1/2 mx-auto"></div>
            <ul class="list-group w-2/5 mx-auto">
                {% for completed_task in page %}
                <li class="my-3">
                    <div class="relative border-2 border-[#447438] bg-slate-200 p-4 rounded-sm text-center font-normal">
                        <!--Category-->
                        <div
                            class="border-t-[63px] border-t-[#205e38] border-r-[72px] border-r-transparent absolute top-0 left-0">
                            <span
                                class="text-sm text-slate-200 font-light transform -rotate-45 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pl-20 pb-5">
                                {{ completed_task.category }}</span>
                        </div>
                        <!--Task Title-->
                        <div class="pl-8 hover:cursor-pointer">
                            {{ completed_task.title }}
                        </div>
                    </div>
                </li>
                {% endfor %}
            </ul>

            <!-- Pagination links -->
            {% if page.has_other_pages %}
            <div class="flex items-center justify-center mt-6 bg-red-500">
                <a href="?page=1"
                    class="px-3 py-2 bg-gray-200 text-gray-700 rounded-md mr-2 hover:bg-gray-300 transition duration-300">&laquo;
                    First</a>
                <a href="?page={{ page.previous_page_number }}"
                    class="px-3 py-2 bg-gray-200 text-gray-700 rounded-md mr-2 hover:bg-gray-300 transition duration-300">Previous</a>

                {% for num in page.paginator.page_range %}
                <a href="?page={{ num }}"
                    class="px-3 py-2 bg-gray-200 text-gray-700 rounded-md mr-2 hover:bg-gray-300 transition duration-300 {% if page.number == num %}font-bold{% endif %}">
                    {{ num }}</a>
                {% endfor %}

                <a href="?page={{ page.next_page_number }}"
                    class="px-3 py-2 bg-gray-200 text-gray-700 rounded-md mr-2 hover:bg-gray-300 transition duration-300">Next</a>
                <a href="?page={{ page.paginator.num_pages }}"
                    class="px-3 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition duration-300">Last
                    &raquo;</a>
            </div>
            {% endif %}

        </div>
    </div>
</div>
{% endblock %}